---
title: 实习面经--综合版
tags:
  - 面试总结
abbrlink: 25552
date: 2019-07-04 13:58:50
---

# 面试总结之综合总结

&emsp;&emsp;这一部分总结归纳了一些面试中遇到的特别有趣的问题，因为这些都没有正确答案，所以给出的是我个人的观点，欢迎大家补充！

&emsp;&emsp;本博客长期更新，欢迎大家收藏、订阅！

<!-- more -->

---

## 秒杀、抢购系统

+ 难点：
  1. 高并发
  2. 超卖
+ 架构：
  1. 浏览器端：最上层，js代码
  2. 站点层：这一层访问后端数据，拼接好HTML页面返回给浏览器
  3. 服务层：向上游屏蔽底层数据细节，提供数据访问
  4. 数据层：底层数据库
+ 思路：
  1. 将请求拦截在上游
  2. 利用缓存，读多写少
+ 方案：
  1. 浏览器层面
     + 产品：点击后按钮置灰，禁止用户重复提交
     + js代码：限制用户在n秒内只能提交1次
  2. 站点层请求拦截与页面缓存
     + 页面静态化
     + 对同一个UID，限制访问频率，做页面缓存，n秒内到达站点层的请求，均返回同一个页面
  3. 服务层请求拦截与数据缓存
     + 写请求，做请求队列排队，每次只透过有限的写请求异步写入到数据层，成功则放下一批；如库存不足，则队列里的写请求全部返回“已售完”
     + 读请求，可以使用redis。

---

## 老虎吃羊问题

+ 问题：在岛上有100只老虎和1只羊，老虎可以吃草，但更愿意吃羊。如果每次只有一只老虎可以吃羊，而且一旦他吃了羊，他自己就变成羊；而且所有的老虎都是聪明而且完全理性的，他们的第一要务是**生存**。 请问最后这只羊会不会被吃？如果是`n`只老虎和1只羊呢？

+ 问题分析：这类问题是逻辑问题，不需要通过很复杂的算法去解决，我的解决办法就是从1开始列举情况。从1只老虎开始。

  + 1只老虎：吃，因为吃了之后就只剩1只羊，没有危险；
  + 2只老虎：不吃，因为吃了之后就变成了第一种情况，而上一种情况是选择吃的；
  + 3只老虎：吃，因为吃了之后就变成了第二种情况，而上一种情况是选择不吃；

  以此类推，我们可以发现规律：**如果老虎数目是奇数，则选择吃；如果是偶数，则选择不吃**

