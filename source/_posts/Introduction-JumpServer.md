---
title: 浅谈堡垒机
mathjax: true
abbrlink: 10564
date: 2021-08-01 20:20:18
tags:
---

# Introduction

&emsp;&emsp;堡垒机这个概念是在运维领域中的一个概念，在系统维护过程中会经常接触到，这篇博客就来向大家介绍一下堡垒机。

<!-- more -->

---

# What is Jump Server

&emsp;&emsp;堡垒机（Jump Server），前身叫跳板机，顾名思义就是作为一个跳板，让开发运维人员去访问内部的服务器、设备。

&emsp;&emsp;所以堡垒机其实是开发、运维人员和内部服务器的一个中间人，它的作用就是起到一个屏障。

&emsp;&emsp;堡垒机实际上也是一个运维审计系统，其核心是**可控及审计**。

+ **可控**：可控包含权限可控和行为可控。权限可控指的是不同的人有不同的权限，以及这些权限的分配和回收都是可管理的。行为可控指的是能够在系统层面，对用户的一些操作进行控制。比如集中禁止掉某些容易毁坏系统的命令。
+ **审计**：审计指的是对用户的操作有记录，可以追踪，在某些场景中还需要定责。

# Why Jump Server

&emsp;&emsp;堡垒机的前身是跳板机（前置机），跳板机当时的出现很大程度上只是为了集中管理，虽然加上跳板机后对内部服务器有了一定的防御保障，但是没有对用户操作的控制和审计，还是无法起到保护的作用。

&emsp;&emsp;因此后来就有了更加系统化的堡垒机，通过增加访问控制、操作记录和审计功能等，让运维人员更好、更安全去访问内部服务数据。这样既能保证每个操作都能追踪到，也能集中管理，降低数据暴露的风险。

# Detail of Jump Server

## Concept of Design

&emsp;&emsp;堡垒机有4A理念：

+ 认证（Authen）：指的是必须是认证过的人员才能登录。比如外部人员不能登录，或者在内部人员中，只有运维人员能登录，而开发人员不能登录。
+ 授权（Authorize）：指的是访问者必须有相对应的权限，这个包含时间上的权限，也包含范围的权限。有些用户的访问权限只有几天，而访问范围也不是所有的资源，只能是某几个资源
+ 账号（Account）：所有的运维账号都在一个平台上进行管理，通过建立用户和账号的关系，确保用户拥有的权限是完成任务所需的最小权限
+ 审计（Audit）：用户的所有操作都有记录，并可以事后追踪。

## Goal

&emsp;&emsp;堡垒机的目标可以概括为5W，包括：

+ What：做了什么，对应上面的审计；
+ Which：你能做什么东西？对应上面的授权；
+ Where：你要去哪里？对应上面的账号；
+ Who：你是谁？对应上面的认证；
+ When：访问时间

---

# Reference

1. [什么是堡垒机？为什么需要堡垒机](https://segmentfault.com/a/1190000037788002)
2. [Jump Server](https://en.wikipedia.org/wiki/Jump_server)